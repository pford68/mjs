var mjs=mjs||{};
(function(r){function g(d){var k=d.split("/")[0];k=j[k];".js"===d.substr(d.length-3,3)||(d+=".js");return(k||h)+"/"+d}function o(d,k,i){i=i||{};p.request({method:"GET",async:false,url:d,suppress:i.suppress||false,success:function(m){if(!e[k]){e[k]=d;(function(q){"../"===k.substr(0,3)||q.module(k);q=eval(m.responseText);f.isFunction(i.onload)&&i.onload(q)})(mjs)}},failure:function(){f.error("mjs.js",k+" not found")}})}Object.isSealed&&[Object,String,Function,Array,Array.prototype,String.prototype,Function.prototype].forEach(function(d){if(Object.isSealed(d))throw Error(d.name||
d.toString()+" is sealed.");});var e={},a=r.config||{},b=document.getElementsByTagName("script"),h=null,n={motModule:/^\.\.\/+/,letter:/[a-z]/i},j={},c=/\.|\//,f,l=false,p={__request__:null,queue:[],init:function(){if(window.XMLHttpRequest)p.__request__=new XMLHttpRequest;else if(window.ActiveXObject)try{p.__request__=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{p.__request__=new ActiveXObject("Microsoft.XMLHTTP")}catch(k){}}if(!p.__request__){f.error("mjs.js","Cannot create an XMLHTTP instance");
return false}},request:function(d){var k,i=p.__request__,m=d.async!=null?d.async:true;k=function(){if(i.readyState==4)if((i.status==200||i.status==302&&i.allowRedirects!==false)&&d.success)d.success(i);else!d.suppress&&d.failure&&d.failure(i)};i.onreadystatechange=k;i.open(d.method,d.url,m);i.send(d.params);m||k()}};p.init();f={config:r.config||{},isDebugEnabled:function(){return l},setDebugEnabled:function(d){l=d},log:function(d,k){if(l&&typeof console!=="undefined")!k?console.log(d):console.log.apply(console,
arguments);return this},error:function(d,k){if(l)throw Error(["[",d,"] ",k].join(""));},extend:function(d,k){function i(t,u){for(var v in u)if(u.hasOwnProperty(v))t[v]=u[v];return t}var m=f.from(arguments);if(k)for(var q=1,s=m.length;q<s;q++)i(m[0],m[q]);else{k=d;d=r;i(d,k)}return d},clone:function(d){var k={},i,m;for(m in d)if(d.hasOwnProperty(m)){i=d[m];if(f.isObject(i,true))k[m]=f.clone(d[m]);else if(f.isArray(i)){for(var q=[],s=0,t=i.length;s<t;++s)q=f.clone(i[s]);k[m]=q}else k[m]=i}return k},
augment:function(d,k){if(!k){k=d;d=r}for(var i in k)if(k.hasOwnProperty(i))if(d[i]==null)d[i]=k[i];return d},override:function(d,k){if(!k){k=d;d=r}for(var i in k)if(k.hasOwnProperty(i))if(i in d)d[i]=k[i];return d},require:function(d,k){d=d.replace(/\*$/,"__package__");if(!e[d]){var i=g(d);o(i,d,k)}},requireIf:function(d,k,i){k&&r.require(d,i)},module:function(d){d=d.split(c);var k=window,i=d.length,m;for(m=0;m<i;++m){k[d[m]]=k[d[m]]||{};k=k[d[m]]}return k},registerModule:function(d){e[d]=g(d)},isFunction:function(d){return typeof d!==
"undefined"&&d!=null&&(typeof d==="function"||d.constructor==Function)},isInteger:function(d){var k=parseInt(d);return!isNaN(k)&&d===parseInt(d)},isString:function(d){return typeof d!=="undefined"&&d!==null&&(typeof d==="string"||d.constructor==String)},isLetter:function(d){return f.isString(d)&&d.length===1&&d.match(n.letter)},isNumber:function(d){return typeof d==="number"},isArray:function(d){return typeof d!=="undefined"&&d!==null&&(d.constructor+""===Array+""||Object.prototype.toString.apply(d)===
"[object Array]")},isObject:function(d,k){if(d==null)return false;if(k)return d.constructor&&d.constructor.name==="Object";return typeof d==="object"||d.constructor===Object},isBoolean:function(d){return d===true||d===false},toBoolean:function(d){return d!=null&&(typeof d=="string"&&d.toLowerCase().trim()=="true"||d===true)},isUndefined:function(d){return typeof d==="undefined"},isNode:function(d){return typeof Node==="object"?d instanceof Node:d&&typeof d==="object"&&typeof d.nodeType==="number"&&
typeof d.nodeName==="string"},isElement:function(d){return HTMLElement?d instanceof HTMLElement:d&&typeof d==="object"&&d.nodeType===1&&typeof d.nodeName==="string"},parseInt:function(d){d||(d="");d=parseInt(d,10);return isNaN(d)?0:d},parseFloat:function(d){d||(d="");d=parseFloat(d);return isNaN(d)?0:d},isEmpty:function(d){var k;if(!(k=d===0)){if(!(k=d===null)){if(!(k=typeof d==="undefined")){if(k=f.isObject(d,true)){for(var i in d)if(d.hasOwnProperty(i))break;k=false}k=k||f.isString(d)&&d.isEmpty()}k=
k}k=k}return k},notEmpty:function(d){return!f.isEmpty(d)},toArray:function(d){if(f.isEmpty(d))return[];if(f.isArray(d))return d;var k=[];if(d.length>0)return Array.prototype.slice.call(d);if(d!=null)for(var i in d)if(d.hasOwnProperty(i))k[k.length]=d[i];return k},proxy:function(d,k){var i=f.isString(k)?d[k]:k,m;i||f.error("$.proxy","fcn is null for method = "+k);if(arguments.length>2)m=f.toArray(arguments).slice(2);return function(){return i.apply(d,m?m.concat(f.from(arguments)):arguments)}},range:function(d,
k,i){var m=[];if(k==null){k=d;d=0}if(r.isInteger(d)&&r.isInteger(k))for(i=i||1;d<k;){r.log("range").log(d+":"+k+":"+i);m.push(d);d+=i}return m},from:function(d,k){var i=Array.prototype.slice.call(d);if(f.isFunction(k))return i.map(k);return i},constant:function(d,k,i){if(f.isObject(k))throw Error("A constant must be a String or a primitive:  {0}:{1}".replaceArgs(d,k));i=i||r;d=d.toUpperCase();Object.defineProperty(i,d,{value:k,writable:false,enumerable:true,configurable:false})},getPrototype:function(d){return d.__proto__||
Object.getPrototypeOf(d)}};f.augment(r,f);(function(){r.config=r.config||{};h=r.config.baseUrl;l=r.config.debug||false;if(!h)for(var d=0,k=b.length;d<k;d++){var i=b[d];if(h=i.getAttribute("data-jspath"))j.mjs=h;if(j.mjs){d=i;k=void 0;i=f.toBoolean;k=d.getAttribute("data-debugEnabled")||false;l=i(k);a.locale=d.getAttribute("data-locale")||"en";break}}if(!h&&!r.config.amd)throw Error("The script root could not be determined:  either the mjs script must have a name in the format /mjs.*.js/, or at least one script tag containing a custom data-context attribute which points to the js root directory.");
Object.defineProperty(r,"config",{configurable:false,writable:true,enumerable:true})})();if(!r.config.amd){f.require("mjs/core/shim");f.require("mjs/core/strings");f.require("mjs/i18n/"+a.locale)}})(mjs);mjs.registerModule("js/mjs.js");mjs.registerModule("js/mjsConfig.js");
(function(r){r.module("mjs/core/strings");(function(g){g.augment(String.prototype,{endsWith:function(o){return o===this.substr(this.length-o.length,o.length)},startsWith:function(o){return o===this.substr(0,o.length)},capitalize:function(){var o=this.toLowerCase();return o.charAt(0).toUpperCase()+o.substring(1)},uncapitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1)},trim:function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},trimLeft:function(){return this.replace(/^\s+/g,
"")},trimRight:function(){return this.replace(/\s+$/g,"")},replaceArgs:function(){if(arguments.length!=0){var o=this+"",e,a,b;a=0;for(b=arguments.length;a<b;a++){e=RegExp("\\{"+a+"\\}","gi");o=o.replace(e,arguments[a])}return o}},applyTemplate:function(o){if(o!=null){var e=this+"",a,b;for(b in o){a=RegExp("\\$?\\{"+b+"\\}","gi");if(o.hasOwnProperty(b))e=e.replace(a,o[b])}return e}},toCamelCase:function(){var o,e,a,b=[],h=this.split(/\s+/);o=0;for(e=h.length;o<e;++o){a=o>0?h[o].capitalize():h[o].toLowerCase();
b.push(a)}return b.join("")},contains:function(o){return this.indexOf(o)!=-1},equalsIgnoreCase:function(o){if(!g.isString(o))return false;return this.toLowerCase()==o.toLowerCase()},toBoolean:function(){return this.trim()==="true"?true:this.trim()==="false"?false:this},isEmpty:function(){return this.trim()===""},notEmpty:function(){return!this.isEmpty()},isUpperCase:function(){return this.toUpperCase()==this},justify:function(o){var e=[];for(o=parseInt(o);o-- >0;)e.push(" ");e.push(this);return e.join("")},
rightJustify:function(o){var e=[this];for(o=parseInt(o);o-- >0;)e.push(" ");return e.join("")}});String.prototype.namespace="String.prototype"})(r)})(mjs);mjs.registerModule("mjs/core/strings");
(function(r){r.module("mjs/core/arrays");(function(g){function o(e){if(!g.isArray(e))throw Error("The argument must be an array.");}g.augment(Array.prototype,{copy:function(e,a,b){if(arguments.length==0)return this.concat([]);var h,n=0;h=a!=null?a:0;var j=b!=null?h+b-1:this.length-1;g.log(h+":"+j);for(h=h;h<=j;++h){e[n]=this[h];++n}},splice:function(e,a){g.log("[Array.prototype.splice] Using custom splice");if(a>this.length||e+a>this.length)a=this.length-e;var b,h,n=[],j=[],c=[];if(a>0){this.copy(n,
0,e);this.copy(j,a+1,this.length);this.copy(c,e,a)}b=2;for(h=arguments.length;b<h;++b)n.push(arguments[b]);n=n.concat(j);b=0;for(h=n.length;b<h;++b)this[b]=n[b];this.length=n.length;return c},indexOf:function(e,a){var b=this.length>>>0,h=a||0;h=h<0?Math.ceil(h):Math.floor(h);if(h<0)h+=b;for(;h<b;h++)if(h in this&&this[h]===e)return h;return-1},lastIndexOf:function(e,a){var b=this.length;if(isNaN(a))a=b-1;else{a=a<0?Math.ceil(a):Math.floor(a);if(a<0)a+=b;else if(a>=b)a=b-1}for(;a>-1;a--)if(a in this&&
this[a]===e)return a;return-1},forEach:function(e,a){var b,h=this.length;for(b=0;b<h;b++)e.call(a,this[b],b,this)},map:function(e,a){var b,h=this.length,n=[h];for(b=0;b<h;b++)n[b]=e.call(a,this[b],b,this);return n},filter:function(e,a){var b,h,n=this.length,j=[];for(b=0;b<n;b++){h=this[b];if(e.call(a,h,b,this))j[j.length]=h}return j},every:function(e,a){var b,h=this.length;for(b=0;b<h;b++)if(!e.call(a,this[b],b,this))return false;return true},some:function(e,a){var b,h=this.length;for(b=0;b<h;b++)if(e.call(a,
this[b],b,this))return true;return false},contains:function(e){for(var a=e&&g.isFunction(e.equals),b=0,h=this.length;b<h;++b)if(this[b]===e||a&&e.equals(this[b]))return true;return false},reduce:function(e,a){var b=0,h=this.size(),n;if(!g.isFunction(e))throw new TypeError("[Array.prototype.reduce] The first argument must be a function.");if(a)n=a;else{if(h===0)throw new TypeError("[Array.prototype.reduce] Array length is 0 and no second argument");n=this[0];b=1}for(;b<h;){if(b in this)n=e.call(undefined,
n,this[b],b,this);++b}return n},reduceRight:function(e,a){var b=this.size(),h=b,n;if(!g.isFunction(e))throw new TypeError("[Array.prototype.reduceRight] The first argument must be a function.");if(a)n=a;else{if(b===0)throw new TypeError("[Array.prototype.reduceRight] Array length is 0 and no second argument");n=this[b-1];h=b-2}do{if(h in this)n=e.call(undefined,n,this[h],h,this);--h}while(h>0);return n},size:function(){return this.length>>0},difference:function(e){o(e);var a=this;return this.filter(function(b){return!e.contains(b)}).concat(e.filter(function(b){return!a.contains(b)}))},
intersection:function(e){o(e);return this.filter(function(a){return e.contains(a)})},union:function(){for(var e=[],a=0,b=arguments.length;a<b;a++)e=e.concat(arguments[a]);return this.unique().concat(e).unique()},unique:function(){for(var e=[],a=0,b=this.length;a<b;++a)e.contains(this[a])||e.push(this[a]);return e},flatten:function(){for(var e=[],a=0,b=this.length;a<b;++a)if(g.isArray(this[a]))e=e.concat(this[a].flatten());else e[a]=this[a];return e},insert:function(e){var a=[],b=[],h;h=e.index;e=
e.items;g.isArray(e)||(e=[e]);this.copy(a,0,h);this.copy(b,h);a=a.concat(e).concat(b);b=0;for(h=a.length;b<h;++b)this[b]=a[b];this.length=a.length;return this},toEach:function(e){var a,b=0;for(a in e)if(e.hasOwnProperty(a)){e[a]=this[b];++b}return e},clone:function(){return this.slice(0)},remove:function(e){var a=this[e];this.splice(e,1);return a},last:function(){return this[this.length-1]},toSet:function(){var e={};this.forEach(function(a){var b=a.hash?a.hash():a.valueOf();e[b]=a});return e}})})(r)})(mjs);
mjs.registerModule("mjs/core/arrays");
(function(r){r.module("mjs/core/StringBuilder");(function(g){function o(e){this.buffer=[];if(e!=null)return this.append(e);return this}g.requireIf("mjs/core/arrays",!Array.prototype.splice);g.extend(o.prototype,{append:function(e){var a=this.buffer;if(e!=null)a[a.length]=e;return this},insert:function(e,a){this.buffer.splice(e,0,a)},deleteAt:function(e){this.buffer.splice(e,1)},replaceAt:function(e,a){this.buffer.splice(e,1,a)},get:function(e){return this.buffer[e]},toString:function(){return this.buffer.join("")},
clear:function(){this.buffer=[]},length:function(){return this.buffer.length}});g.extend({StringBuilder:o})})(r)})(mjs);mjs.registerModule("mjs/core/StringBuilder");
(function(r){r.module("mjs/core/utils");(function(g){g.require("mjs/core/arrays");var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");g.extend({GUID:function(){return"{quad}{quad}-{quad}-{quad}-{quad}-{quad}{quad}{quad}".applyTemplate({quad:((1+Math.random())*65536|0).toString(16).substring(1)})},UUID:function(){for(var e=Array(36),a=0,b,h=0;h<36;h++)if(h==8||h==13||h==18||h==23)e[h]="-";else if(h==14)e[h]="4";else{if(a<=2)a=33554432+Math.random()*16777216|0;b=a&15;a>>=
4;e[h]=o[h==19?b&3|8:b]}return e.join("")},getAlphabet:function(){return o.slice(-26)},getCaller:function(e){return e.caller||(arguments.callee?arguments.callee.caller:{name:"anonymous caller"})},pad:function(e,a){a=a||2;e+="";var b=0,h=[];for(a-=e.length;b++<a;)h.push("0");h.push(e);return h.join("")}})})(r)})(mjs);mjs.registerModule("mjs/core/utils");
(function(r){r.module("mjs/core/oop");(function(g){function o(){}function e(j,c){for(var f in j)if(j[f]==c)return true;return false}function a(j,c,f,l){var p=f;delete j[c];Object.defineProperty(j,c,{get:function d(){var k=g.getCaller(d,arguments);if(k==e||e(j,k))return p;throw Error("{0} is accessible only inside the class {1}".replaceArgs(c,l||""));},set:function d(k){var i=g.getCaller(d,arguments);if(i==e||e(j,i))p=k;else throw Error("{0} is accessible only inside the class {1}".replaceArgs(c,l||
""));},configurable:false,enumerable:false})}function b(j,c){var f=this.methods={},l,p,d;p=0;for(d=j.length;p<d;p++){l=j[p];g.isString(l)||g.error(c,"index "+p+" is not a String in $.Interface");f[l]=l}Object.freeze(this.methods)}g.require("mjs/core/strings");g.require("mjs/core/StringBuilder");g.require("mjs/core/utils");Object.defineProperty(Function.prototype,"methodName",{enumerable:false,configurable:true,writable:true});var h={equals:function(j){return this===j},hash:function(){return g.UUID()}};
b.prototype={extend:function(){for(var j=[],c=0;c<arguments.length;c++)j[c]=arguments[c];for(var f in this.methods)this.methods.hasOwnProperty(f)&&j.push(this.methods[f]);return new b(j)}};g.Interface=function j(){var c=g.getCaller(j,arguments).name;return Object.freeze(new b(g.toArray(arguments),c))};g.Class=function(j,c){var f=null,l=null;if(!c){c=j;j=null}if(Array.isArray(j)){var p=j;j=function(){};p=p.map(function(m){return g.isFunction(m)?m.prototype:m});g.proxy(g,"extend",j.prototype).apply(null,
p)}if(c.hasOwnProperty("constructor"))c.initialize=c.constructor;if(c&&c.initialize)l=c.initialize;else{c||(c={});l=c.initialize=function(){}}f=function(){var m;if(j&&j.prototype.initialize){m=j.prototype.initialize;m.length===0&&m.apply(this,arguments)}if(arguments.length==0||arguments[0]!==o)l.apply(this,arguments);this._interfaces.length>0&&n.implement.apply(n,[this].concat(this._interfaces))};if(typeof j==="function")f.prototype=new j(o);f.implement=function(){f.prototype._interfaces=g.toArray(arguments);
return f};var d={},k=g.extend({},c),i;for(i in k)if(k.hasOwnProperty(i)){p=k[i];if(i.startsWith("_")){d[i]=p;delete c[i]}else if(g.isFunction(p))p.methodName=i;else if(i.isUpperCase()){g.constant(i,p,f);delete c[i]}}g.augment(c,h);g.extend(f.prototype,c,{_interfaces:[],constructor:f,inherited:function(){var m=g.from(arguments),q=m.shift(),s=j.prototype[q];return g.isFunction(s)?s.apply(this,m):s[q]},$super:function(){j.prototype.initialize.apply(this,arguments)},toString:function(){return n.toString(this)},
getClassName:function(){return this._className||""}});for(i in d)d.hasOwnProperty(i)&&a(f.prototype,i,d[i],d._className);return f};var n={isa:function(j,c){if(c instanceof b){var f;a:{if(j._interfaces&&c instanceof b){g.isArray(j._interfaces)||g.error("$implements","The interfaces property should be an Array:  "+j._interfaces);var l=j._interfaces.length;for(f=0;f<l;f++)if(j._interfaces[f]===c){f=true;break a}}f=false}return f}return j instanceof c},implement:function j(c){for(var f=g.getCaller(j,
arguments).name,l=1,p=arguments.length;l<p;l++){var d=c,k=arguments[l],i=f;d._interfaces||Object.defineProperty(d,"_interfaces",{value:[],writable:false,configurable:false,enumerable:false});var m=k.methods,q=[],s=void 0;for(s in m)if(m.hasOwnProperty(s))if(g.isUndefined(d[s])||!g.isFunction(d[s]))q.push(s);if(q.length>0)throw new g.AbstractMethodError(q.join(", ")+"in "+i);d._interfaces[d._interfaces.length]=k}return c},toString:function(j){var c,f=new g.StringBuilder;for(c in j)if(j.hasOwnProperty(c))g.isFunction(j[c])||
f.append(c).append(":  ").append(j[c]).append(", ");return f.toString().replace(/,\s+$/,"")},hash:function(j){return g.isFunction(j.hash)?j.hash():g.isString(j)?j:j+""},encapsulate:function(j,c,f){f=f||{};var l=c[j]||f.value,p=j.capitalize(),d=c._className||f.className||"anonymous";delete c[j];if(f.addSetter===true)c["set"+p.replace(/$_/,"")]=function(k){c[j]=k};if(f.addGetter===true)c["get"+p.replace(/$_/,"")]=function(){return c[j]};a(c,j,l,d)},encapsulateAll:function(j,c,f){for(var l in j)j.hasOwnProperty(l)&&
n.encapsulate(j[l],c,f)}};g.extend(Object,n);Object.finalizes=Object.implement;Object.fulfills=Object.implement;g.AbstractMethodError=function(){function j(c){this.message+=c}j.prototype=Error();g.extend(j.prototype,{message:"Not all required methods were implemented:  ",name:"AbstractMethodError"});return j}()})(r)})(mjs);mjs.registerModule("mjs/core/oop");
(function(r){r.module("mjs/core/publish");(function(g){g.require("mjs/core/arrays");g.require("mjs/core/oop");Function.prototype.subscribe=function(a){a.add(this);return this};Function.prototype.unsubscribe=function(a){a.remove(this);return this};var o=g.Class({initialize:function(){this.clear()},publish:function(){var a=arguments;this._subscribers.forEach(function(b){b.apply(null,a)});return this},getSubscribers:function(){return this._subscribers},clear:function(){this._subscribers=[];return this},
add:function(a){this._subscribers.contains(a)||this._subscribers.push(a)},remove:function(a){this._subscribers=this._subscribers.filter(function(b){if(b!==a)return b})}}),e={};g.extend(g,{Publisher:o,topics:{get:function(a){return e[a]},subscribe:function(a,b){if(arguments.length>2)b=g.proxy(arguments[1],arguments[2]);e[a]||(e[a]=[]);e[a].some(function(h){return h===b})||e[a].push(b);return this},unsubscribe:function(a,b){if(arguments.length>2)b=g.proxy(arguments[1],arguments[2]);if(e[a])e[a]=e[a].filter(function(h){if(h!==
b)return h});return this},unsubscribeAll:function(a){e[a]=[]},publish:function(a,b){e[a]&&g.isArray(e[a])&&e[a].forEach(function(h){h(b)});return this}}})})(r)})(mjs);mjs.registerModule("mjs/core/publish");
(function(r){r.module("mjs/core/ObjectDecorator");(function(g){function o(a){this.spec=a}g.extend(o.prototype,{like:function(a){var b=this.spec;g.log("like start").log(a);for(var h in b)if(b.hasOwnProperty(h)&&b[h]!==null)if(a[h]!==null&&typeof b[h]!==typeof a[h]){g.log("like").log(h);return false}return true},equals:function(a){var b=this.spec,h;for(h in a)if(a.hasOwnProperty(h)&&a[h]!==null)if(b[h]!==null&&typeof b[h]!==typeof a[h]){g.log("equals").log(h);return false}return this.like(a)}});var e=
function(a){this.component=a};Object.defineProperties(e.prototype,{component:{enumerable:false,configurable:false,writable:true}});g.extend(e.prototype,{extend:function(){function a(j,c){for(var f in c)if(c.hasOwnProperty(f))j[f]=c[f];return j}for(var b=g.from(arguments),h=0,n=b.length;h<n;h++)a(this.component,b[h]);return this},augment:function(a){var b,h=this.component;for(b in a)if(a.hasOwnProperty(b))if(h[b]==null)h[b]=a[b];return this},override:function(a){var b=this.component,h;for(h in a)if(a.hasOwnProperty(h))if(h in
b)b[h]=a[h];return this},has:function(){for(var a=this.component,b=g.from(arguments),h=1,n=b.length;h<n;++h)if(!a[b[h]])return false;return true},forEach:function(a){var b=this.component,h;for(h in b)b.hasOwnProperty(h)&&a(b[h],h,b);return this},map:function(a){var b={};this.forEach(function(h,n,j){b[n]=a(h,n,j)});return b},filter:function(a){var b={};this.forEach(function(h,n,j){if(a(h,n,j)===true)b[n]=h});return b},size:function(){return Object.keys(this.component).length},difference:function(a){var b,
h={};g.extend(h,this.component);for(b in a)if(a.hasOwnProperty(b))if(h[b]&&h[b]===a[b])delete h[b];else h[b]=a[b];return h},intersection:function(a){return this.filter(function(b,h,n){return a[h]==n[h]})},values:function(){var a=[];this.component&&this.forEach(function(b){a.push(b)});return a},serialize:function(){return JSON.stringify(this.component)},toString:function(){return"[object ObjectDecorator]"},getSpec:function(){return new o(this.component)},contains:function(a){function b(j,c){if(j&&
g.isFunction(j.equals))return j.equals(c);return false}var h=this.component,n;for(n in h)if(h[n]==a||b(h[n],a))return true;return false},add:function(a,b){this.component[a]=b;return this},remove:function(a){var b=this.component[a];delete this.component[a];return b}});r.decorate=function(a){return new e(a)}})(r)})(mjs);mjs.registerModule("mjs/core/ObjectDecorator");
(function(r){r.module("mjs/core/ObjectFactory");(function(g){g.require("mjs/core/strings");g.require("mjs/core/ObjectDecorator");g.require("mjs/core/oop");g.ObjectFactory=g.Interface("build","extend","$super");g.getFactory=function(o,e){function a(){}e=e||{};var $super=o.$super,h=g.decorate(o).filter(function(j,c){return c.startsWith("_")});delete o.$super;o=g.clone(o);if(e.writable!=null&&(e.set||e.get)){delete e.writable;g.log("getFactory","The property descriptors writable and get/set are incompatible; getFactory() deleted writable from the configuration.")}o=
e?Object.create(o,e):Object.create(o);var n=g.getPrototype(o);g.decorate(h).forEach(function(j,c){Object.encapsulate(c,o,{value:j})});g.log("getFactory","blueprint:").log(o);g.extend(a.prototype,{build:function(j){return j?g.extend(Object.create(o),j):Object.create(o)},extend:function(j,c){g.log("blueprint in extend").log(o);j.$super=o;var f=g.extend({},n,j);return g.getFactory(f,c)},$super:function(j,c){g.log("blueprint in $super").log($super);var f=$super[j];if(g.isFunction(f)){c||g.error("getFactory.$super",
"A scope is required when the $super property is a function.");return f.bind(c)}if(g.isObject(f,true))return g.extend({},f);return f}});return Object.freeze(Object.implement(new a,g.ObjectFactory))}})(r)})(mjs);mjs.registerModule("mjs/core/ObjectFactory");
(function(r){r.module("mjs/core/aop");(function(g){function o(a,b,h,n){var j,c,f=false,l=n.transfer,p=n.adviser;if(h)c=g.proxy(b,h);else{f=true;c=b}n.advised=c;if(a=="before")j=function(){var k=p.apply(b,arguments);k=k&&!l?[k]:null;return c.apply(b,k||arguments)};else if(a=="after")j=function(){var k=c.apply(b,arguments);k=k&&!l?[k]:null;return p.apply(b,k||arguments)};else if(a=="around"){var d={proceed:function(){return this.method.apply(this,this.args)}};j=function(){d.args=arguments;d.method=
c;d.name=h;return p(d)}}else g.error("AOP Error","Unsupported advice type:  "+a);return f?b=j:b[h]=j}g.require("mjs/core/ObjectFactory");var e=g.getFactory({before:function(a,b){return o("before",a,b,this)},after:function(a,b){return o("after",a,b,this)},around:function(a,b){return o("around",a,b,this)}});g.addAdvice=function(a,b,h){a=b?g.proxy(a,b):a;if(!g.isFunction(a))throw new TypeError("An adviser function is required in mjs.addAdvice","mjs/core/aop.js");return Object.seal(e.build({adviser:a,
transfer:h!=null?h:true}))}})(r)})(mjs);mjs.registerModule("mjs/core/aop");(function(r){r.module("mjs/core/__package__");(function(g){g.require("mjs/core/strings");g.require("mjs/core/arrays");g.require("mjs/core/oop");g.require("mjs/core/StringBuilder");g.require("mjs/core/publish");g.require("mjs/core/aop");g.require("mjs/core/utils")})(r)})(mjs);mjs.registerModule("mjs/core/__package__");
(function(r){r.module("mjs/logging/interfaces");(function(g){g.module("mjs/logging");g.require("mjs/core/oop");g.logging.ILogger=g.Interface("info","error","debug","log","warn","dir")})(r)})(mjs);mjs.registerModule("mjs/logging/interfaces");
(function(r){r.module("mjs/util/Calendar");(function(g){function o(c,f,l){h.setYear(c);h.setMonth(f);h.setDate(l)}function e(c,f){if(b.gmt)return c["getUTC"+f]();return c["get"+f]()}function a(c,f,l){b.gmt&&c["setUTC"+f](l);c["set"+f](l)}g.require("mjs/core/StringBuilder");var b,h=new Date,n=null,j=null;n=["January","February","March","April","May","June","July","August","September","October","November","December"];j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];b={gmt:true,
currentDate:new Date,addYears:function(c,f){a(c,"FullYear",e(c,"FullYear")+f)},subtractYears:function(c,f){a(c,"FullYear",e(c,"FullYear")-f)},addMonths:function(c,f){a(c,"Month",e(c,"Month")+f)},subtractMonths:function(c,f){a(c,"Month",e(c,"Month")-f)},addDays:function(c,f){a(c,"Date",e(c,"Date")+f)},subtractDays:function(c,f){a(c,"Date",e(c,"Date")-f)},addHours:function(c,f){a(c,"Hours",e(c,"Hours")+f)},subtractHours:function(c,f){a(c,"Hours",e(c,"Hours")-f)},addMinutes:function(c,f){a(c,"Minutes",
e(c,"Minutes")+f)},subtractMinutes:function(c,f){a(c,"Minutes",e(c,"Minutes")-f)},addSeconds:function(c){a(c,"Seconds",e(c,"Seconds")+seconds)},subtractSeconds:function(c){a(c,"Seconds",e(c,"Seconds")-seconds)},compareDates:function(c,f){return c.getTime()-f.getTime()},getFirstDay:function(c,f){return(new Date(c,f,1)).getDay()},getMonthLen:function(c,f){var l=new Date(c,f+1,1);l.setHours(l.getHours()-3);return l.getDate()},isCurrentDate:function(c,f,l){var p=b.currentDate,d=null;if(c instanceof Date){d=
c;return p.getFullYear()==d.getFullYear()&&p.getMonth()==d.getMonth()&&p.getDate()==d.getDate()}return p.getFullYear()==c&&p.getMonth()==f&&p.getDate()==l},getPreviousMonth:function(c){c-=1;if(c<0)c=11;return c},getNextMonth:function(c){c+=1;if(c>11)c=0;return c},isSaturday:function(c,f,l){o(c,f,l);return(new Date(c,f,l)).getDay()==6},isSunday:function(c,f,l){o(c,f,l);return(new Date(c,f,l)).getDay()==0},getLastSunday:function(c,f,l){o(c,f,l);return h.getDate()-h.getDay()},getNextSaturday:function(c,
f,l){o(c,f,l);return h.getDate()+(6-h.getDay())},getShortMonthName:function(c){return n[c].substring(0,3)},getMonthIndex:function(c){for(var f=0;f<n.length;f++)if(n[f].startsWith(c))return f},getMonths:function(){return n},getWeekDays:function(){return j},getMonthName:function(c){c||(c=e(new Date,"Month"));return n[c]},getDayOfWeek:function(c){c||(c=e(new Date,"Day"));return j[c]},getFullYear:function(c){return e(c,"FullYear")},getMonth:function(c){return e(c,"Month")},getDay:function(c){return e(c,
"Day")},getDate:function(c){return e(c,"Date")},getHours:function(c){return e(c,"Hours")},getMinutes:function(c){return e(c,"Minutes")},getSeconds:function(c){return e(c,"Seconds")},getMilliseconds:function(c){return e(c,"Milliseconds")},getDateInstance:function(c){var f=b.getDay(c),l=b.getMonth(c);return{component:c,time:c.getTime(),year:b.getFullYear(c),monthIndex:l,dayIndex:f,dayOfMonth:b.getDate(c),hours:b.getHours(c),minutes:b.getMinutes(c),sec:b.getSeconds(c),ms:b.getMilliseconds(c),era:"CE",
month:n[l],day:j[f]}}};g.util.Calendar=b})(r)})(mjs);mjs.registerModule("mjs/util/Calendar");
(function(r){r.module("mjs/util/DateFormat");(function(g){function o(f,l){var p=l.exec(f);return p!=null?{start:p.index,end:p.index+p[0].length,length:p[0].length}:null}function e(f,l){var p=h.getMonthName(f);if(l.length>3&&p.length!=l.length)j={start:l.start,end:l.end,offset:p.length-l.length}}function a(f,l){var p=0;if(j!=null&&l.start>j.end)p=j.offset;return f.substring(l.start+p,l.end+p)}function b(f,l,p,d){return f.replace(a(f,o(l,p)),d)}g.require("mjs/util/Calendar");g.require("mjs/core/StringBuilder");
g.require("mjs/core/arrays");g.require("mjs/core/utils");var h=g.util.Calendar,n="M y w W D d F E a H k K h m s S z Z G".split(/\s+/),j=null,c=g.pad;g.util.DateFormat={parse:function(f,l){if(g.isEmpty(f))return h.getDateInstance(new Date);j=null;l=l||"yyyy-MM-dd HH:mm:ss";var p={year:0,month:0,day:0,hours:0,minutes:0,sec:0,ms:0},d,k,i=h,m="";n.forEach(function(q){k=l.match(RegExp(q,["g"]));if(!(!k||k.length==0))switch(q){case "M":d=o(l,/M+/);m=a(f,d);if(d.length>2){p.month=i.getMonthIndex(m.substring(0,
3));e(p.month,d)}else p.month=g.parseInt(m)-1;break;case "y":p.year=a(f,o(l,/y+/));break;case "d":p.day=a(f,o(l,/d{1,2}/));break;case "a":p.am_pm=a(f,o(l,/a{1,2}/));break;case "H":p.hours=a(f,o(l,/H{1,2}/));break;case "k":p.hours=a(f,o(l,/H{1,2}/))+1;break;case "K":m=a(f,o(l,/K{1,2}/));if(m>=12&&m<24)m-=12;else if(m==24)m=0;p.hours=m;break;case "h":m=a(f,o(l,/K{1,2}/));if(m>12)m-=12;p.hours=m;break;case "m":p.minutes=a(f,o(l,/m{1,2}/));break;case "s":p.sec=a(f,o(l,/s{1,2}/));break;case "S":p.ms=a(f,
o(l,/S{1,3}/))}});g.log("[$.DateFormat.parse]  "+(new g.StringBuilder(p.year)).append(":").append(p.month.toString()).append(":").append(p.day).toString());return i.getDateInstance(new Date(p.year,p.month,p.day,p.hours,p.minutes,p.sec,p.ms))},format:function(f,l){f=f||new Date;l=l||"yyyy-MM-dd HH:mm:ss";j=null;var p=h,d=p.getDay(f),k=p.getMonth(f),i=p.getHours(f),m=p.getMinutes(f),q=null,s=l;n.forEach(function(t){q=l.match(RegExp(t,["g"]));if(!(!q||q.length==0))switch(t){case "M":if(q.length>3){t=
o(l,/M+/);var u=p.getMonthName(k);s=s.replace(a(s,t),u);e(p.getMonth(f),t)}else s=q.length==3?b(s,l,/M+/,p.getShortMonthName(k)):b(s,l,/M+/,c(k+1));break;case "y":if(q.length>2)s=b(s,l,/y+/,p.getFullYear(f).toString());else if(q!=null&&q.length>0)s=b(s,l,/y+/,(p.getFullYear(f)%100).toString());break;case "d":s=q.length>2?b(s,l,/d+/,p.getDayOfWeek(d)):b(s,l,/d{1,2}/,c(p.getDate(f)));break;case "a":s=i>11?b(s,l,/a{1,2}/,"PM"):b(l,/a{1,2}/,"AM");break;case "H":s=b(s,l,/H{1,2}/,c(p.getHours(f)));break;
case "k":s=b(s,l,/H{1,2}/,c(p.getHours(f)+1));break;case "K":s=i===12||i===0?12:(i+12)%12;break;case "h":s=i===12||i===0?12:(i+12)%12+1;break;case "m":s=b(s,l,/m{1,2}/,c(m));break;case "S":s=b(s,l,/S{1,3}/,c(p.getMilliseconds(f),3));break;case "s":s=b(s,l,/s{1,2}/,c(p.getSeconds(f)));break;case "z":return f.getTimezoneOffset().toString();case "G":return p.getFullYear(f)>=0?"CE":"BCE"}});return s}}})(r)})(mjs);mjs.registerModule("mjs/util/DateFormat");
(function(r){r.module("mjs/http/Url");(function(g){function o(n){return n.replace(a.doubleSlashes,"/").replace(a.protocolClose,"://")}function e(n){if(n){var j,c,f,l,p;n=o(n);c=n.split("?");j=c.length>1?c[1]:null;c=c[0].split("/");if(n.contains("://")){l=c[0];c.shift();c[0].trim()==""&&c.shift()}f=c[0].split(":").toEach({name:"",port:""});c.shift();g.extend(this,{protocol:l.replace(":",""),hostname:f.name,port:g.notEmpty(f.port)?g.parseInt(f.port):null,file:a.extension.test(c[c.length-1])?c.pop():
null,context:g.notEmpty(c[0])?c[0]:null,pathinfo:(p=c.slice(1).join("/")).notEmpty()?p:null,search:j?"?"+j:null,query:j,current:n})}}g.require("mjs/core/strings");g.require("mjs/core/arrays");var a,b=g.config,h={format:"{protocol}://{hostname}:{port}/{context}/{pathinfo}/{file}{search}"};a={queryStringStart:/^\?/,beforeQueryString:/^.+\?/,portFormat:/:\{port\}/,slashes:/\//g,doubleSlashes:/\/{2,}/g,protocolClose:/:\//,fullProtocolClose:/:\/\//,extension:/\.[a-zA-Z]{2,6}$/};Object.defineProperties(e.prototype,
{protocol:{enumerable:true,writable:true,configurable:false},hostname:{enumerable:true,writable:true,configurable:false},port:{enumerable:true,writable:true,configurable:false},file:{enumerable:true,writable:true,configurable:false},context:{enumerable:true,writable:true,configurable:false},pathinfo:{enumerable:true,writable:true,configurable:false},search:{enumerable:true,writable:true,configurable:false},query:{enumerable:true,writable:true,configurable:false},current:{enumerable:true,writable:true,
configurable:false}});g.extend(e.prototype,{getDomain:function(){return[this.protocol,"://",this.hostname,this.port?":"+this.port:"","/"].join("")},build:function(n){var j;n=n||{};j=n.format||h.format+"";n=g.override({protocol:this.protocol||"",hostname:this.hostname||"",port:this.port||"",file:this.file||"",context:this.context||"",pathinfo:this.pathinfo||"",search:this.search||"",query:this.query||""},n);n.file=n.file?n.file.replace(/^\/+/,""):"";n.port||(j=j.replace(a.portFormat,""));g.log("location").log(n);
return o(j.applyTemplate(n))},redirect:function(n,j){j=j||{};(j.scope||window).location=o(n)},exit:function(){window.location=g.build({file:b.home||""})},parseQuery:function(){return e.parseQuery(this)},getItems:function(){return{protocol:this.protocol,hostname:this.hostname,port:this.port,file:this.file,context:this.context,pathinfo:this.pathinfo,search:this.search,query:this.query}}});g.extend(e,{getQuery:function(n){return n?n.replace(a.beforeQueryString,""):null},parseQuery:function(n){var j=
{},c;(n.query||e.getQuery(n)||"").split("&").forEach(function(f){c=f.split("=");j[c[0].trim()]=c[1].trim()});return j},getDomain:function(){var n=window.location;return[n.protocol,"://",n.hostname,n.port?":"+n.port:"","/"].join("")}});g.extend(g.http,{Url:e})})(r)})(mjs);mjs.registerModule("mjs/http/Url");
(function(r){r.module("mjs/logging/LogFactory");(function(g){function o(i){g.config.logging.logger=i}function e(){if(!c){c=j.logging||{};if(c.logger&&g.isString(c.logger))g.require(c.logger,{onload:o});else c.logger||g.require("mjs/logging/ConsoleLogger",{onload:o});g.augment(c,{pattern:"%d{yyyy/MM/dd HH:mm:ss,SSS} [%M]%l............%m"});Object.implement(c.logger,d)}return c}function a(i,m,q){this.name=m.name;this.location=m.caller?m.caller.name:i.callee.caller.name;this.datetime=new Date;this.message=
q;this.data=null;if(!g.isString(q)){this.message="";this.data=q}}function b(i){if(!i.logLevel){var m=-1,q=e()[i.subject];if(q)m=l[q.toUpperCase()]||-1;i.logLevel=m}return i.logLevel}function h(i,m){var q=i.logger.logEvent;m=g.from(m);m.shift();return m=q.data?[i.format(),q.data].concat(m):[i.format()].concat(m)}function n(i){this.logger=Object.seal(i)}g.require("mjs/core/strings");g.require("mjs/core/arrays");g.require("mjs/logging/interfaces");g.require("mjs/core/ObjectFactory");g.require("mjs/core/ObjectDecorator");
g.require("mjs/core/oop");g.require("mjs/util/DateFormat");g.require("mjs/http/Url");var j=g.config||{},c,f,l=Object.freeze({FATAL:1,ERROR:2,WARN:3,INFO:4,DEBUG:5,LOG:6,TRACE:7,ASSERT:8}),p=g.util.DateFormat,d=g.logging.ILogger;f={JUSTIFY:{value:/%-[0-9]+/g,execute:function(i){var m;(i.match(this.value)||[]).forEach(function(q){m=q.replace("%-","");i=i.replace("%-"+m,"%".justify(m))});return i}},CLASSNAME:{value:/%M/g,execute:function(i,m){return i.replace(this.value,m.subject)}},MESSAGE:{value:/%m/g,
execute:function(i,m){return i.replace(this.value,m.logEvent.message)}},LOCATION:{value:/%l/g,execute:function(i,m){return i.replace(this.value,m.logEvent.location)}},EVENT:{value:/%p/g,execute:function(i,m){return i.replace(this.value,m.logEvent.name)}},DATETIME:{value:/(%d\{[0-9A-Za-z/\-,\.:\s]+\})|%d/g,execute:function(i,m){var q=i.match(this.value),s=this.value;if(q){q.forEach(function(t){t=t.replace(/%d|\{|\}/g,"");i=i.replace(s,p.format(m.logEvent.datetime,t||"yyyy/MM/dd HH:mm:ss,SSS"))});return i}return i}},
NEWLINE:{value:/%n/g,execute:function(i){return i.replace(this.value,"\n")}},FILENAME:{value:/%F/g,execute:function(i,m){if(!i.match(this.value))return i;return i.replace(this.value,m.fileName)}}};n.prototype={log:function i(m){var q=this.logger;if(b(q)>=l.LOG){q.logEvent=new a(arguments,i,m);q.log.apply(q,h(this,arguments))}return this},info:function i(m){var q=this.logger;if(b(q)>=l.INFO){q.logEvent=new a(arguments,i,m);q.info.apply(q,h(this,arguments))}return this},error:function i(m){var q=this.logger;
if(b(q)>=l.ERROR){q.logEvent=new a(arguments,i,m);q.error.apply(q,h(this,arguments))}return this},debug:function i(m){var q=this.logger;if(b(q)>=l.DEBUG){q.logEvent=new a(arguments,i,m);q.debug.apply(q,h(this,arguments))}return this},warn:function i(m){var q=this.logger;if(b(q)>=l.WARN){q.logEvent=new a(arguments,i,m);q.warn.apply(q,h(this,arguments))}return this},trace:function i(m){var q=this.logger;if(b(q)>=l.TRACE&&g.isFunction(q.trace)){q.logEvent=new a(arguments,i,m);q.trace.apply(q,h(this,
arguments))}return this},assert:function i(m){var q=this.logger;if(b(q)>=l.ASSERT&&g.isFunction(q.assert)){q.logEvent=new a(arguments,i,m);q.assert(this.format())}return this},dir:function(i){var m=this.logger;g.isDebugEnabled()&&m.dir(i)},format:function(){var i=e().pattern,m=this.logger;i=f.JUSTIFY.execute(i,this.logger);g.decorate(f).forEach(g.proxy(this,function(q,s){if(s!=="JUSTIFY")i=q.execute(i,m)}));return i}};var k=g.getFactory({getLogger:function(i){var m=Object.create(e().logger);i=g.isString(i)?
{name:i}:i;var q=document.location.href;g.extend(m,{subject:i&&i.name?i.name:arguments.callee.caller.name,fileName:q?(new g.http.Url(q)).file:null,logLevel:null,logEvent:null});return Object.freeze(new n(m))}}).build();g.extend(g.logging,{LogFactory:k})})(r)})(mjs);mjs.registerModule("mjs/logging/LogFactory");(function(r){r.module("profiles/mjs-core-with-logging.js");(function(g){g.require("mjs/core/*");g.require("mjs/logging/LogFactory")})(r)})(mjs);mjs.registerModule("profiles/mjs-core-with-logging.js");
